(()=>{var e={};e.id=624,e.ids=[624],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7799:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>d}),r(7189),r(9657),r(7725);var n=r(5959),i=r(7314),a=r(9659),l=r.n(a),s=r(5466),o={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>s[e]);r.d(t,o);let d=["",{children:["demo",{children:["player",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7189)),"/Users/adityagaikwad/Documents/Education App/apps/web-openindia/app/demo/player/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9657)),"/Users/adityagaikwad/Documents/Education App/apps/web-openindia/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7725,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/adityagaikwad/Documents/Education App/apps/web-openindia/app/demo/player/page.tsx"],c="/demo/player/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/demo/player/page",pathname:"/demo/player",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},938:(e,t,r)=>{Promise.resolve().then(r.bind(r,588))},368:()=>{},9811:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3660,23)),Promise.resolve().then(r.t.bind(r,763,23)),Promise.resolve().then(r.t.bind(r,1776,23)),Promise.resolve().then(r.t.bind(r,7975,23)),Promise.resolve().then(r.t.bind(r,5759,23)),Promise.resolve().then(r.t.bind(r,7441,23))},588:(e,t,r)=>{"use strict";r.d(t,{DemoPlayerClient:()=>s});var n=r(5252);r(3955);var i=r(8380);let a=[{start:0,end:3,text:"Namaste and welcome to Open India"},{start:3,end:7,text:"This platform supports bilingual learning"}],l=[{term:"Namaste",definition:"A traditional Indian greeting"},{term:"bilingual",definition:"Involving two languages"}];function s(){return n.jsx(i.PlayerShell,{srcEn:"/sample/en.m3u8",srcHi:"/sample/hi.m3u8",captions:a,glossary:l})}},8380:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CoursePlayer:()=>p,PlayerShell:()=>o,default:()=>h,selectCaptionCue:()=>l,useABLoop:()=>d,useBookmarks:()=>u,useCaptions:()=>s,useNotes:()=>c});var n=r(5252),i=r(3955),a=r(7943);function l(e,t,r){let n=e.find(e=>t>=e.start&&t<e.end);if(n)return n;let i=r/1e3;return e.find(e=>Math.abs(t-e.start)<=i)||null}function s({cues:e,videoRef:t,enabled:r,driftThreshold:n}){let[a,l]=(0,i.useState)(null);return a}let o=({srcEn:e,srcHi:t,captions:r=[],glossary:l=[],initialLanguage:o="en",driftCorrectionMs:d=120,className:u})=>{let c=(0,i.useRef)(null),[p,m]=(0,i.useState)(o),[h,g]=(0,i.useState)(!0),[x,y]=(0,i.useState)(!1),f="en"===p?e:t||e;(0,i.useEffect)(()=>{let e=c.current;if(e){if(e.canPlayType("application/vnd.apple.mpegurl")){e.src=f;return}if(a.ZP.isSupported()){let t=new a.ZP;return t.loadSource(f),t.attachMedia(e),()=>t.destroy()}e.src=f}},[f]);let b=s({cues:r,videoRef:c,enabled:h,driftThreshold:d}),j=(0,i.useMemo)(()=>{let e=new Map;return l.forEach(t=>e.set(t.term.toLowerCase(),t)),e},[l]),v=(0,i.useMemo)(()=>{if(!b)return null;let e=b.text.split(/(\s+)/).map((e,t)=>{let r=j.get(e.toLowerCase());return r?n.jsx("span",{"data-term":r.term,className:"player-term",style:{cursor:"pointer",textDecoration:"underline dotted"},children:e},t):e});return n.jsx("span",{children:e})},[b,j]);(0,i.useEffect)(()=>{let e=e=>{let t=c.current;t&&(" "===e.key?(e.preventDefault(),t.paused?t.play():t.pause()):"j"===e.key.toLowerCase()?t.currentTime=Math.max(0,t.currentTime-5):"k"===e.key.toLowerCase()?t.paused?t.play():t.pause():"l"===e.key.toLowerCase()?t.currentTime=t.currentTime+5:"c"===e.key.toLowerCase()?g(e=>!e):"g"===e.key.toLowerCase()&&y(e=>!e))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);let w=(0,i.useCallback)(e=>{let t=e.target.closest("[data-term]");if(t){let e=t.getAttribute("data-term");e&&(y(!0),j.get(e.toLowerCase()))}},[j]);return(0,n.jsxs)("div",{className:u,"data-player-shell":!0,children:[(0,n.jsxs)("div",{style:{position:"relative"},children:[n.jsx("video",{ref:c,controls:!0,style:{width:"100%",maxHeight:500}}),(0,n.jsxs)("div",{style:{position:"absolute",top:8,left:8,display:"flex",gap:8},children:[(0,n.jsxs)("button",{onClick:()=>m(e=>"en"===e?"hi":"en"),"aria-label":"toggle-language",children:["Lang: ",p]}),(0,n.jsxs)("button",{onClick:()=>g(e=>!e),"aria-label":"toggle-captions",children:["CC ",h?"On":"Off"]}),l.length>0&&n.jsx("button",{onClick:()=>y(e=>!e),"aria-label":"toggle-glossary",children:"Glossary"})]}),h&&b&&n.jsx("div",{onClick:w,"aria-live":"polite",style:{position:"absolute",bottom:40,width:"100%",textAlign:"center",color:"white",textShadow:"0 0 4px black",fontSize:18},children:v})]}),x&&(0,n.jsxs)("aside",{"aria-label":"glossary",style:{marginTop:12,border:"1px solid #ddd",padding:8,maxHeight:200,overflow:"auto"},children:[n.jsx("h4",{style:{margin:"4px 0"},children:"Glossary"}),n.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:l.map(e=>(0,n.jsxs)("li",{style:{marginBottom:4},children:[n.jsx("strong",{children:e.term}),": ",e.definition]},e.term))})]})]})};function d(){let[e,t]=(0,i.useState)(null),[r,n]=(0,i.useState)(null),[a,l]=(0,i.useState)(!1);return{a:e,b:r,setA:t,setB:n,enabled:a,toggle:()=>l(e=>!e),clear:()=>{t(null),n(null),l(!1)}}}function u(e=[]){let[t,r]=(0,i.useState)(e);return{bookmarks:t,add:e=>r(t=>[...t,e].sort((e,t)=>e.time-t.time)),remove:e=>r(t=>t.filter(t=>t.time!==e))}}function c(e=[]){let[t,r]=(0,i.useState)(e);return{notes:t,add:e=>r(t=>[...t,e].sort((e,t)=>e.time-t.time)),remove:e=>r(t=>t.filter(t=>t.time!==e))}}let p=({src:e,poster:t,captions:r=[],transcript:l=[],initialBookmarks:s,initialNotes:o,onBookmarkAdd:p,onNoteAdd:h,className:g})=>{let x=(0,i.useRef)(null),{a:y,b:f,setA:b,setB:j,enabled:v,toggle:w,clear:k}=d(),{bookmarks:C,add:P}=u(s),{notes:T,add:S}=c(o);(0,i.useEffect)(()=>{let t=x.current;if(t){if(t.canPlayType("application/vnd.apple.mpegurl"))t.src=e;else if(a.ZP.isSupported()){let r=new a.ZP;return r.loadSource(e),r.attachMedia(t),()=>r.destroy()}else t.src=e}},[e]),(0,i.useEffect)(()=>{let e=x.current;if(!e)return;let t=()=>{v&&null!=y&&null!=f&&(e.currentTime<y&&(e.currentTime=y),e.currentTime>=f&&(e.currentTime=y))};return e.addEventListener("timeupdate",t),()=>e.removeEventListener("timeupdate",t)},[y,f,v]),(0,i.useEffect)(()=>{let e=e=>{let t=x.current;t&&(" "===e.key?(e.preventDefault(),t.paused?t.play():t.pause()):"a"===e.key.toLowerCase()?b(t.currentTime):"b"===e.key.toLowerCase()?j(t.currentTime):"l"===e.key.toLowerCase()?w():"ArrowRight"===e.key?t.currentTime+=5:"ArrowLeft"===e.key&&(t.currentTime-=5))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[w,b,j]);let L=(0,i.useMemo)(()=>r.map((e,t)=>n.jsx("track",{label:e.label,kind:"subtitles",srcLang:e.srclang,src:e.src,default:e.default},t)),[r]);return(0,n.jsxs)("div",{className:g,children:[(0,n.jsxs)("div",{className:"relative",children:[n.jsx("video",{ref:x,poster:t,controls:!0,style:{width:"100%",maxHeight:480},children:L}),(0,n.jsxs)("div",{style:{display:"flex",gap:8,marginTop:8},children:[n.jsx("button",{onClick:()=>x.current?.play(),children:"Play"}),n.jsx("button",{onClick:()=>x.current?.pause(),children:"Pause"}),n.jsx("button",{onClick:()=>b(x.current?.currentTime||0),children:"Set A"}),n.jsx("button",{onClick:()=>j(x.current?.currentTime||0),children:"Set B"}),(0,n.jsxs)("button",{onClick:w,children:[v?"Disable":"Enable"," Loop"]}),n.jsx("button",{onClick:k,children:"Clear Loop"}),n.jsx("button",{onClick:()=>{let e=x.current;if(!e)return;let t={time:Math.floor(e.currentTime)};P(t),p?.(t)},children:"Bookmark"}),n.jsx("button",{onClick:()=>{let e=x.current;if(!e)return;let t=prompt("Note");if(t&&t.trim()){let r={time:Math.floor(e.currentTime),note:t.trim()};S(r),h?.(r)}},children:"Note"})]})]}),l.length>0&&(0,n.jsxs)("div",{style:{marginTop:16},children:[n.jsx("h4",{children:"Transcript"}),n.jsx("ul",{style:{maxHeight:160,overflow:"auto"},children:l.map((e,t)=>n.jsx("li",{children:(0,n.jsxs)("button",{onClick:()=>{x.current&&(x.current.currentTime=e.start)},children:["[",m(e.start),"] ",e.text]})},t))})]}),C.length>0&&(0,n.jsxs)("div",{style:{marginTop:16},children:[n.jsx("h4",{children:"Bookmarks"}),n.jsx("ul",{children:C.map((e,t)=>n.jsx("li",{children:(0,n.jsxs)("button",{onClick:()=>x.current&&(x.current.currentTime=e.time),children:[m(e.time)," ",e.note?`- ${e.note}`:""]})},t))})]}),T.length>0&&(0,n.jsxs)("div",{style:{marginTop:16},children:[n.jsx("h4",{children:"Notes"}),n.jsx("ul",{children:T.map((e,t)=>n.jsx("li",{children:(0,n.jsxs)("button",{onClick:()=>x.current&&(x.current.currentTime=e.time),children:[m(e.time)," - ",e.note]})},t))})]})]})};function m(e){let t=Math.floor(e%60).toString().padStart(2,"0"),r=Math.floor(e/60%60).toString().padStart(2,"0"),n=Math.floor(e/3600).toString().padStart(2,"0");return"00"!==n?`${n}:${r}:${t}`:`${r}:${t}`}let h=p},7189:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(1262);r(3397);let i=(0,r(6501).createProxy)(String.raw`/Users/adityagaikwad/Documents/Education App/apps/web-openindia/app/demo/player/DemoPlayerClient.tsx#DemoPlayerClient`);function a(){return(0,n.jsxs)("div",{style:{padding:24},children:[n.jsx("h1",{children:"Player Demo"}),n.jsx(i,{})]})}},9657:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>u});var n=r(1262);r(9493),r(3397);var i=r(6412),a=r(3227);let l={en:["hi","mr"],hi:["mr","en"],mr:["en","hi"]},s={en:{translation:{greeting:"Hello, {{name}}!",items_one:"{{count}} item",items_other:"{{count}} items"}},hi:{translation:{greeting:"नमस्ते, {{name}}!",items_one:"{{count}} आइटम",items_other:"{{count}} आइटम"}},mr:{translation:{greeting:"नमस्कार, {{name}}!",items_one:"{{count}} वस्तू",items_other:"{{count}} वस्तू"}}},o=i.ZP.createInstance();async function d(e){return await o.use(a.Z).init({lng:e?.lng||"en",fallbackLng:e=>l[e]||["en"],compatibilityJSON:"v4",interpolation:{escapeValue:!1},returnObjects:!0,resources:{...e?.resources||s},...e}),o}let u={title:{default:"OpenIndia Learning",template:"%s | OpenIndia Learning"},description:"Open courses with local language support",openGraph:{title:"OpenIndia Learning",description:"Open courses with local language support",type:"website"}};async function c({children:e}){return await d({lng:"en"}),n.jsx("html",{lang:"en",children:(0,n.jsxs)("body",{children:[(0,n.jsxs)("header",{style:{padding:16,borderBottom:"1px solid #eee"},children:[n.jsx("a",{href:"/",style:{fontWeight:700},"aria-label":"Home",children:"OpenIndia"}),(0,n.jsxs)("nav",{style:{float:"right"},children:[n.jsx("a",{href:"/catalog",style:{marginRight:12},"aria-current":void 0,children:"Catalog"}),n.jsx("a",{href:"#",role:"button","aria-label":"Change language",style:{marginRight:12},children:"EN"})]})]}),n.jsx("main",{style:{maxWidth:960,margin:"0 auto",padding:16},children:e}),(0,n.jsxs)("footer",{style:{padding:16,borderTop:"1px solid #eee"},children:["\xa9 ",new Date().getFullYear()," OpenIndia"]})]})})}},9493:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[221,943],()=>r(7799));module.exports=n})();