{"version":3,"sources":["../index.tsx","../PlayerShell.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\nexport * from './PlayerShell';\nimport Hls from 'hls.js';\n\nexport type CaptionTrack = { label: string; srclang: string; src: string; default?: boolean };\nexport type TranscriptItem = { start: number; end: number; text: string };\nexport type Bookmark = { time: number; note?: string };\n\nexport function useABLoop() {\n  const [a, setA] = useState<number | null>(null);\n  const [b, setB] = useState<number | null>(null);\n  const [enabled, setEnabled] = useState(false);\n  const toggle = () => setEnabled((v) => !v);\n  const clear = () => {\n    setA(null);\n    setB(null);\n    setEnabled(false);\n  };\n  return { a, b, setA, setB, enabled, toggle, clear };\n}\n\nexport function useBookmarks(initial: Bookmark[] = []) {\n  const [bookmarks, setBookmarks] = useState<Bookmark[]>(initial);\n  const add = (bm: Bookmark) => setBookmarks((prev) => [...prev, bm].sort((x, y) => x.time - y.time));\n  const remove = (time: number) => setBookmarks((prev) => prev.filter((b) => b.time !== time));\n  return { bookmarks, add, remove };\n}\n\nexport function useNotes(initial: Bookmark[] = []) {\n  const [notes, setNotes] = useState<Bookmark[]>(initial);\n  const add = (bm: Bookmark) => setNotes((prev) => [...prev, bm].sort((x, y) => x.time - y.time));\n  const remove = (time: number) => setNotes((prev) => prev.filter((b) => b.time !== time));\n  return { notes, add, remove };\n}\n\nexport type CoursePlayerProps = {\n  src: string; // HLS .m3u8 URL\n  poster?: string;\n  captions?: CaptionTrack[];\n  transcript?: TranscriptItem[];\n  initialBookmarks?: Bookmark[];\n  initialNotes?: Bookmark[];\n  onBookmarkAdd?: (bm: Bookmark) => void;\n  onNoteAdd?: (bm: Bookmark) => void;\n  className?: string;\n};\n\nexport const CoursePlayer: React.FC<CoursePlayerProps> = ({\n  src,\n  poster,\n  captions = [],\n  transcript = [],\n  initialBookmarks,\n  initialNotes,\n  onBookmarkAdd,\n  onNoteAdd,\n  className,\n}) => {\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const { a, b, setA, setB, enabled, toggle: toggleAB, clear: clearAB } = useABLoop();\n  const { bookmarks, add: addBookmark } = useBookmarks(initialBookmarks);\n  const { notes, add: addNote } = useNotes(initialNotes);\n\n  // HLS attach\n  useEffect(() => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    if (video.canPlayType('application/vnd.apple.mpegurl')) {\n      video.src = src;\n    } else if (Hls.isSupported()) {\n      const hls = new Hls();\n      hls.loadSource(src);\n      hls.attachMedia(video);\n      return () => hls.destroy();\n    } else {\n      video.src = src; // fallback\n    }\n  }, [src]);\n\n  // AB loop enforcement\n  useEffect(() => {\n    const video = videoRef.current;\n    if (!video) return;\n    const onTime = () => {\n      if (!enabled) return;\n      if (a != null && b != null) {\n        if (video.currentTime < a) video.currentTime = a;\n        if (video.currentTime >= b) video.currentTime = a;\n      }\n    };\n    video.addEventListener('timeupdate', onTime);\n    return () => video.removeEventListener('timeupdate', onTime);\n  }, [a, b, enabled]);\n\n  // keyboard shortcuts\n  useEffect(() => {\n    const onKey = (e: KeyboardEvent) => {\n      const v = videoRef.current;\n      if (!v) return;\n      if (e.key === ' ') {\n        e.preventDefault();\n        v.paused ? v.play() : v.pause();\n      } else if (e.key.toLowerCase() === 'a') {\n        setA(v.currentTime);\n      } else if (e.key.toLowerCase() === 'b') {\n        setB(v.currentTime);\n      } else if (e.key.toLowerCase() === 'l') {\n        toggleAB();\n      } else if (e.key === 'ArrowRight') {\n        v.currentTime += 5;\n      } else if (e.key === 'ArrowLeft') {\n        v.currentTime -= 5;\n      }\n    };\n    window.addEventListener('keydown', onKey);\n    return () => window.removeEventListener('keydown', onKey);\n  }, [toggleAB, setA, setB]);\n\n  const onAddBookmark = () => {\n    const v = videoRef.current;\n    if (!v) return;\n    const bm = { time: Math.floor(v.currentTime) };\n    addBookmark(bm);\n    onBookmarkAdd?.(bm);\n  };\n\n  const onAddNote = () => {\n    const v = videoRef.current;\n    if (!v) return;\n    const text = prompt('Note');\n    if (text && text.trim()) {\n      const note = { time: Math.floor(v.currentTime), note: text.trim() };\n      addNote(note);\n      onNoteAdd?.(note);\n    }\n  };\n\n  const captionEls = useMemo(() => {\n    return captions.map((c, i) => (\n      <track key={i} label={c.label} kind=\"subtitles\" srcLang={c.srclang} src={c.src} default={c.default} />\n    ));\n  }, [captions]);\n\n  return (\n    <div className={className}>\n      <div className=\"relative\">\n        <video ref={videoRef} poster={poster} controls style={{ width: '100%', maxHeight: 480 }}>\n          {captionEls}\n        </video>\n        <div style={{ display: 'flex', gap: 8, marginTop: 8 }}>\n          <button onClick={() => videoRef.current?.play()}>Play</button>\n          <button onClick={() => videoRef.current?.pause()}>Pause</button>\n          <button onClick={() => setA(videoRef.current?.currentTime || 0)}>Set A</button>\n          <button onClick={() => setB(videoRef.current?.currentTime || 0)}>Set B</button>\n          <button onClick={toggleAB}>{enabled ? 'Disable' : 'Enable'} Loop</button>\n          <button onClick={clearAB}>Clear Loop</button>\n          <button onClick={onAddBookmark}>Bookmark</button>\n          <button onClick={onAddNote}>Note</button>\n        </div>\n      </div>\n\n      {/* Transcript */}\n      {transcript.length > 0 && (\n        <div style={{ marginTop: 16 }}>\n          <h4>Transcript</h4>\n          <ul style={{ maxHeight: 160, overflow: 'auto' }}>\n            {transcript.map((t, i) => (\n              <li key={i}>\n                <button\n                  onClick={() => {\n                    if (videoRef.current) videoRef.current.currentTime = t.start;\n                  }}\n                >\n                  [{formatTime(t.start)}] {t.text}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n\n      {/* Bookmarks */}\n      {bookmarks.length > 0 && (\n        <div style={{ marginTop: 16 }}>\n          <h4>Bookmarks</h4>\n          <ul>\n            {bookmarks.map((b, i) => (\n              <li key={i}>\n                <button onClick={() => videoRef.current && (videoRef.current.currentTime = b.time)}>\n                  {formatTime(b.time)} {b.note ? `- ${b.note}` : ''}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n\n      {/* Notes */}\n      {notes.length > 0 && (\n        <div style={{ marginTop: 16 }}>\n          <h4>Notes</h4>\n          <ul>\n            {notes.map((n, i) => (\n              <li key={i}>\n                <button onClick={() => videoRef.current && (videoRef.current.currentTime = n.time)}>\n                  {formatTime(n.time)} - {n.note}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nfunction formatTime(sec: number) {\n  const s = Math.floor(sec % 60)\n    .toString()\n    .padStart(2, '0');\n  const m = Math.floor((sec / 60) % 60)\n    .toString()\n    .padStart(2, '0');\n  const h = Math.floor(sec / 3600)\n    .toString()\n    .padStart(2, '0');\n  return h !== '00' ? `${h}:${m}:${s}` : `${m}:${s}`;\n}\n\nexport default CoursePlayer;\n","import React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport Hls from 'hls.js';\n\nexport type GlossaryEntry = { term: string; definition: string; };\nexport type CaptionCue = { start: number; end: number; text: string };\n\nexport interface PlayerShellProps {\n  srcEn: string; // English HLS/DASH URL\n  srcHi?: string; // Hindi alternative\n  captions?: CaptionCue[]; // Provided in base (English) timeline\n  glossary?: GlossaryEntry[];\n  initialLanguage?: 'en' | 'hi';\n  className?: string;\n  driftCorrectionMs?: number; // threshold to snap drift\n}\n\nexport function selectCaptionCue(cues: CaptionCue[], time: number, driftThresholdMs: number): CaptionCue | null {\n  // exact match first\n  const direct = cues.find(c => time >= c.start && time < c.end);\n  if (direct) return direct;\n  // drift: near start within threshold\n  const thresholdSec = driftThresholdMs / 1000;\n  const near = cues.find(c => Math.abs(time - c.start) <= thresholdSec);\n  return near || null;\n}\n\ninterface UseCaptionsArgs {\n  cues: CaptionCue[]; video: HTMLVideoElement | null; enabled: boolean; driftThreshold: number;\n}\nexport function useCaptions({ cues, video, enabled, driftThreshold }: UseCaptionsArgs) {\n  const [active, setActive] = useState<CaptionCue | null>(null);\n  useEffect(() => {\n    if (!video || !enabled) { setActive(null); return; }\n    let raf: number;\n    const loop = () => {\n      const cue = selectCaptionCue(cues, video.currentTime, driftThreshold);\n      setActive(prev => prev === cue ? prev : cue);\n      raf = requestAnimationFrame(loop);\n    };\n    raf = requestAnimationFrame(loop);\n    return () => cancelAnimationFrame(raf);\n  }, [video, cues, enabled, driftThreshold]);\n  return active;\n}\n\nexport const PlayerShell: React.FC<PlayerShellProps> = ({\n  srcEn,\n  srcHi,\n  captions = [],\n  glossary = [],\n  initialLanguage = 'en',\n  driftCorrectionMs = 120,\n  className,\n}) => {\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const [lang, setLang] = useState<'en' | 'hi'>(initialLanguage);\n  const [showCaptions, setShowCaptions] = useState(true);\n  const [showGlossary, setShowGlossary] = useState(false);\n  const src = lang === 'en' ? srcEn : (srcHi || srcEn);\n\n  // attach media (HLS.js if needed)\n  useEffect(() => {\n    const video = videoRef.current;\n    if (!video) return;\n    if (video.canPlayType('application/vnd.apple.mpegurl')) {\n      video.src = src;\n      return;\n    }\n    if (Hls.isSupported()) {\n      const hls = new Hls();\n      hls.loadSource(src);\n      hls.attachMedia(video);\n      return () => hls.destroy();\n    }\n    video.src = src;\n  }, [src]);\n\n  const activeCue = useCaptions({ cues: captions, video: videoRef.current, enabled: showCaptions, driftThreshold: driftCorrectionMs });\n\n  const glossaryIndex = useMemo(() => {\n    const map = new Map<string, GlossaryEntry>();\n    glossary.forEach(g => map.set(g.term.toLowerCase(), g));\n    return map;\n  }, [glossary]);\n\n  const highlighted = useMemo(() => {\n    if (!activeCue) return null;\n    const words = activeCue.text.split(/(\\s+)/).map((w, i) => {\n      const term = glossaryIndex.get(w.toLowerCase());\n      if (term) {\n        return <span key={i} data-term={term.term} className=\"player-term\" style={{ cursor: 'pointer', textDecoration: 'underline dotted' }}>{w}</span>;\n      }\n      return w;\n    });\n    return <span>{words}</span>;\n  }, [activeCue, glossaryIndex]);\n\n  // keyboard shortcuts\n  useEffect(() => {\n    const handler = (e: KeyboardEvent) => {\n      const v = videoRef.current; if (!v) return;\n      if (e.key === ' ') { e.preventDefault(); v.paused ? v.play() : v.pause(); }\n      else if (e.key.toLowerCase() === 'j') { v.currentTime = Math.max(0, v.currentTime - 5); }\n      else if (e.key.toLowerCase() === 'k') { v.paused ? v.play() : v.pause(); }\n      else if (e.key.toLowerCase() === 'l') { v.currentTime = v.currentTime + 5; }\n      else if (e.key.toLowerCase() === 'c') { setShowCaptions(s => !s); }\n      else if (e.key.toLowerCase() === 'g') { setShowGlossary(g => !g); }\n    };\n    window.addEventListener('keydown', handler);\n    return () => window.removeEventListener('keydown', handler);\n  }, []);\n\n  const onGlossaryClick = useCallback((e: React.MouseEvent) => {\n    const el = (e.target as HTMLElement).closest('[data-term]');\n    if (el) {\n      const term = el.getAttribute('data-term');\n      if (term) {\n        setShowGlossary(true);\n        const entry = glossaryIndex.get(term.toLowerCase());\n        if (entry) {\n          // simple highlight scroll could be added\n        }\n      }\n    }\n  }, [glossaryIndex]);\n\n  return (\n    <div className={className} data-player-shell>\n      <div style={{ position: 'relative' }}>\n        <video ref={videoRef} controls style={{ width: '100%', maxHeight: 500 }} />\n        <div style={{ position: 'absolute', top: 8, left: 8, display: 'flex', gap: 8 }}>\n          <button onClick={() => setLang(l => l === 'en' ? 'hi' : 'en')} aria-label=\"toggle-language\">Lang: {lang}</button>\n          <button onClick={() => setShowCaptions(c => !c)} aria-label=\"toggle-captions\">CC {showCaptions ? 'On' : 'Off'}</button>\n          {glossary.length > 0 && (\n            <button onClick={() => setShowGlossary(g => !g)} aria-label=\"toggle-glossary\">Glossary</button>\n          )}\n        </div>\n        {showCaptions && activeCue && (\n          <div onClick={onGlossaryClick} aria-live=\"polite\" style={{ position: 'absolute', bottom: 40, width: '100%', textAlign: 'center', color: 'white', textShadow: '0 0 4px black', fontSize: 18 }}>\n            {highlighted}\n          </div>\n        )}\n      </div>\n      {showGlossary && (\n        <aside aria-label=\"glossary\" style={{ marginTop: 12, border: '1px solid #ddd', padding: 8, maxHeight: 200, overflow: 'auto' }}>\n          <h4 style={{ margin: '4px 0' }}>Glossary</h4>\n          <ul style={{ listStyle: 'none', padding: 0, margin: 0 }}>\n            {glossary.map(g => (\n              <li key={g.term} style={{ marginBottom: 4 }}>\n                <strong>{g.term}</strong>: {g.definition}\n              </li>\n            ))}\n          </ul>\n        </aside>\n      )}\n    </div>\n  );\n};\n\nexport default PlayerShell;\n"],"mappings":"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","names":["import_react","Hls","React","import_hls","Hls","React","b"]}