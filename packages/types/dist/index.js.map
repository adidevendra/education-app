{"version":3,"sources":["../index.ts","../src/course.ts","../src/lecture.ts","../src/segment.ts","../src/glossary.ts","../src/quiz.ts","../src/user.ts"],"sourcesContent":["// Re-export all modularized schemas for consumers\nexport * from './src/course';\nexport * from './src/lecture';\nexport * from './src/segment';\nexport * from './src/glossary';\nexport * from './src/quiz';\nexport * from './src/user';\n\n","import { z } from 'zod';\n\nexport const CourseVisibilityEnum = z.enum(['public', 'private', 'unlisted']);\n\nexport const CourseSchema = z.object({\n  id: z.string().uuid('course.id must be uuid').optional(),\n  orgId: z.string(),\n  title: z.string().min(3).max(160),\n  slug: z.string().regex(/^[a-z0-9-]+$/).min(3).max(120),\n  description: z.string().max(4000).optional().nullable(),\n  visibility: CourseVisibilityEnum.default('private'),\n  tags: z.array(z.string().min(1).max(32)).max(20).optional(),\n  estimatedMinutes: z.number().int().positive().max(100000).optional(),\n  createdAt: z.coerce.date().optional(),\n  updatedAt: z.coerce.date().optional(),\n});\n\nexport type Course = z.infer<typeof CourseSchema>;\n\nexport const ModuleSchema = z.object({\n  id: z.string().uuid().optional(),\n  courseId: z.string(),\n  title: z.string().min(2).max(160),\n  position: z.number().int().nonnegative(),\n});\nexport type Module = z.infer<typeof ModuleSchema>;\n","import { z } from 'zod';\n\nexport const LectureSchema = z.object({\n  id: z.string().uuid().optional(),\n  moduleId: z.string(),\n  title: z.string().min(2).max(160),\n  summary: z.string().max(2000).optional().nullable(),\n  durationSeconds: z.number().int().positive().max(4 * 60 * 60).optional(),\n  isPublished: z.boolean().default(false),\n  position: z.number().int().nonnegative(),\n  // will be validated separately / sanitized\n  contentMd: z.string().optional().nullable(),\n  createdAt: z.coerce.date().optional(),\n  updatedAt: z.coerce.date().optional(),\n});\n\nexport type Lecture = z.infer<typeof LectureSchema>;\n","import { z } from 'zod';\n\nexport const TranscriptCaptionSchema = z.object({\n  startMs: z.number().int().nonnegative(),\n  endMs: z.number().int().positive(),\n  text: z.string().max(500),\n}).refine(v => v.endMs > v.startMs, { message: 'endMs must be greater than startMs' });\n\nexport const MediaSegmentSchema = z.object({\n  id: z.string().uuid().optional(),\n  lectureId: z.string(),\n  kind: z.enum(['video', 'audio', 'interactive']),\n  src: z.string().url(),\n  byteSize: z.number().int().positive().max(10 * 1024 * 1024 * 1024).optional(),\n  mime: z.string().max(128),\n  durationSeconds: z.number().int().positive().max(4 * 60 * 60),\n  captions: z.array(TranscriptCaptionSchema).max(5000).optional(),\n  createdAt: z.coerce.date().optional(),\n});\n\nexport type MediaSegment = z.infer<typeof MediaSegmentSchema>;\nexport type TranscriptCaption = z.infer<typeof TranscriptCaptionSchema>;\n","import { z } from 'zod';\n\nexport const GlossaryTermSchema = z.object({\n  id: z.string().uuid().optional(),\n  courseId: z.string(),\n  term: z.string().min(1).max(120),\n  definition: z.string().min(1).max(5000),\n  aliases: z.array(z.string().min(1).max(120)).max(10).optional(),\n  createdAt: z.coerce.date().optional(),\n  updatedAt: z.coerce.date().optional(),\n});\n\nexport type GlossaryTerm = z.infer<typeof GlossaryTermSchema>;\n","import { z } from 'zod';\n\nexport const QuizItemKindEnum = z.enum(['single_choice', 'multi_choice', 'true_false', 'short_text']);\n\nexport const QuizItemSchema = z\n  .object({\n    id: z.string().uuid().optional(),\n    lectureId: z.string(),\n    kind: QuizItemKindEnum,\n    prompt: z.string().min(1).max(1000),\n    options: z.array(z.string().min(1).max(400)).max(20).optional(),\n    correctOptionIndexes: z.array(z.number().int().nonnegative()).max(20).optional(),\n    explanation: z.string().max(2000).optional().nullable(),\n    createdAt: z.coerce.date().optional(),\n  })\n  .refine(d => {\n    if ((d.kind === 'single_choice' || d.kind === 'multi_choice')) {\n      return !!d.options && d.options.length >= 2;\n    }\n    return true;\n  }, { message: 'at least two options required for choice questions', path: ['options'] });\n\nexport type QuizItem = z.infer<typeof QuizItemSchema>;\n","import { z } from 'zod';\nexport const UserSchema = z.object({\n  id: z.string(),\n  name: z.string().nullable().optional(),\n  email: z.string().email(),\n});\nexport type User = z.infer<typeof UserSchema>;\n"],"mappings":"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","names":["import_zod","import_zod","import_zod","import_zod","import_zod"]}